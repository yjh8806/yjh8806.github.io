{"version":3,"sources":["pages/ReviewWrite.js"],"names":["options","value","label","ReviewWrite","props","color","theme","fontSize","dispatch","useDispatch","location","useLocation","React","useState","manner","setManner","review","setReview","disabled","setDisabled","useEffect","logger","state","minHeight","margin","shape","height","Profile","user_profile","profile","width","size","large","bg100","bold2","line_height","text_align","nickname","GreyLine","padding","base","bg80","changeManner","borderTop","type","bold","border","placeholder","multiLine","length","_onChange","e","target","customAlert","sweetOK","then","maxWidth","bg40","brand100","small","cursor","_onClick","userActions","reviewWriteAX","user_id","bg60","bg0","defaultProps","styled","div"],"mappings":"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","file":"static/js/21.129105d0.chunk.js","sourcesContent":["// 리뷰 작성 페이지\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { useDispatch } from \"react-redux\";\nimport { useLocation } from \"react-router\";\nimport { actionCreators as userActions } from \"../redux/modules/user\";\nimport { customAlert } from \"../components/Sweet\";\nimport { Grid, Button, Text, Input } from \"../elements\";\nimport { Header, PcSide } from \"../components\";\nimport Select from \"../components/ReactSelect\";\n\nimport theme from \"../styles/theme\";\nimport logger from \"../shared/Console\";\n\n\n// select options\nconst options = [\n  { value: \"chocolate\", label: \"최고예요!\" },\n  { value: \"strawberry\", label: \"좋아요~\" },\n  { value: \"vanilla\", label: \"별로예요:(\" },\n];\n\nconst ReviewWrite = (props) => {\n  const { color, fontSize } = theme;\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const [manner, setManner] = React.useState(\"\");\n  const [review, setReview] = React.useState(\"\");\n  const [disabled, setDisabled] = React.useState(true);\n\n  const changeManner = (manner) => {\n    if (manner === \"최고예요!\") {\n      setManner(\"BEST\");\n      setDisabled(false);\n    }\n    if (manner === \"좋아요~\") {\n      setManner(\"GOOD\");\n      setDisabled(false);\n    }\n    if (manner === \"별로예요:(\") {\n      setManner(\"BAD\");\n      setDisabled(false);\n    }\n  };\n\n  const reviewWrite = () => {\n    dispatch(\n      userActions.reviewWriteAX(\n        manner,\n        review,\n        location.state?.user_id,\n        location.state?.nickname\n      )\n    );\n  };\n\n  const changeDisabled = (e) => {\n    if (e.target.value.length === 150) {\n      customAlert.sweetOK(\"입력 가능한 글자수를 초과했어요\", \"리뷰 작성 시 150자 이내로 작성해주세요.\").then(() => {\n        return ;\n      })\n    }\n    setReview(e.target.value);\n    setDisabled(false);\n  };\n\n  React.useEffect(() => {\n    logger(\"ReviewWrite props: \", props);\n    logger(\"ReviewWrite location-state: \", location.state);\n  }, []);\n\n  React.useEffect(() => {\n    if (manner === \"\" || review === \"\" || review === \" \") {\n      setDisabled(true);\n    } else if (manner && review) {\n      setDisabled(false);\n    }\n  }, [manner, review]);\n\n  return (\n    <>\n      <PcSide {...props} />\n      <Grid\n        minHeight=\"100vh\"\n        margin=\"0 auto\"\n      >\n        <Grid shape=\"container\">\n          <Header {...props} shape=\"리뷰남기기\" />\n          <Grid height=\"4.4rem\" />\n\n          <Grid margin=\"2rem auto 1rem\">\n            <Profile user_profile={location.state.profile}></Profile>\n          </Grid>\n          <Grid margin=\"0 auto 2rem\">\n            <Text\n              width=\"auto\"\n              size={fontSize.large}\n              color={color.bg100}\n              bold2=\"500\"\n              line_height=\"150%\"\n              text_align=\"center\"\n            >\n              {location.state.nickname}\n            </Text>\n          </Grid>\n          <GreyLine />\n          <Grid padding=\"0 2rem\">\n            <Text\n              width=\"auto\"\n              margin=\"2rem 0 1rem 0\"\n              size={fontSize.base}\n              color={manner ? color.bg100 : color.bg80}\n              bold2=\"500\"\n              line_height=\"150%\"\n            >\n              해당 사용자와의 밀착은 어땠나요?\n            </Text>\n            <Grid margin=\"0 0 2rem 0\">\n              <Select\n                value={manner}\n                options={options}\n                changeManner={changeManner}\n              ></Select>\n            </Grid>\n          </Grid>\n          <Grid\n            width=\"36rem\"\n            height=\"30rem\"\n            padding=\"1rem 3rem 0 3rem\"\n            borderTop=\"0.1rem solid #EBE9E8\"\n          >\n            <Input\n              type=\"text\"\n              height=\"100%\"\n              bold=\"400\"\n              border=\"none\"\n              size={fontSize.base}\n              placeholder=\"해당 사용자와의 밀착이 만족스러우셨다면 따뜻한 리뷰를 전해보세요!\"\n              multiLine=\"t\"\n              length=\"150\"\n              color=\"#9A9896\"\n              value={review}\n              _onChange={changeDisabled}\n            />\n          </Grid>\n        </Grid>\n        <Grid\n          maxWidth=\"35.9rem\"\n          width=\"100%\"\n          height=\"auto\"\n          margin=\"1rem auto 0 auto\"\n          padding=\"1.5rem 2rem\"\n          borderTop=\"0.1rem solid #EBE9E8\"\n        >\n          <Button\n            shape=\"large\"\n            color={!disabled ? color.brand100 : color.bg40}\n            size={fontSize.small}\n            cursor=\"t\"\n            _onClick={reviewWrite}\n            disabled={disabled}\n          >\n            <Text bold size=\"1.6rem\" color={!disabled ? color.bg0 : color.bg60}>\n              보내기\n            </Text>\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nReviewWrite.defaultProps = {};\n\nconst Profile = styled.div`\n  margin: auto;\n  width: 5rem;\n  height: 5rem;\n  border-radius: 2.5rem;\n  ${(props) =>\n    props.user_profile\n      ? `background-image: url(${props.user_profile});`\n      : `background-image: url(http://115.85.182.57:8080/image/profileDefaultImg.jpg);`}\n  background-size: cover;\n  background-position: center;\n`;\n\nconst GreyLine = styled.div`\n  box-sizing: border-box;\n  width: 100%;\n  height: 1px;\n  margin: 1rem auto;\n  background-color: #f1f2f4;\n  &:hover {\n    background-color: red;\n  }\n`;\n\nexport default ReviewWrite;\n"],"sourceRoot":""}